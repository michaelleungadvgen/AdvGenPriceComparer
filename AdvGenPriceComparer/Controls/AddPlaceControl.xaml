<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="AdvGenPriceComparer.Desktop.WinUI.Controls.AddPlaceControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ScrollViewer MaxHeight="500" VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="16" Margin="8">
            <!-- Header -->
            <TextBlock Text="Add New Store/Supermarket" 
                      FontSize="18" FontWeight="SemiBold"
                      Margin="0,0,0,8"/>
            
            <TextBlock Text="Add a new supermarket or store location to track grocery prices." 
                      TextWrapping="Wrap" 
                      Foreground="{StaticResource TextSecondaryBrush}"
                      Margin="0,0,0,12"/>

            <!-- Basic Store Information -->
            <Border Background="{StaticResource CardBackgroundBrush}" 
                    CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="Store Information" FontWeight="SemiBold" FontSize="14"/>
                    
                    <!-- Store Name (Required) -->
                    <StackPanel>
                        <TextBlock Text="Store Name *" FontWeight="Medium"/>
                        <TextBox x:Name="StoreNameTextBox" 
                                PlaceholderText="e.g., Coles Chatswood, Woolworths Town Hall"
                                TextChanged="OnFieldChanged"/>
                        <TextBlock x:Name="StoreNameErrorText" 
                                  Foreground="Red" FontSize="12" 
                                  Visibility="Collapsed"/>
                    </StackPanel>

                    <!-- Chain (Required) -->
                    <StackPanel>
                        <TextBlock Text="Chain *" FontWeight="Medium"/>
                        <ComboBox x:Name="ChainComboBox" 
                                 PlaceholderText="Select or enter chain"
                                 IsEditable="True"
                                 SelectionChanged="OnFieldChanged"
                                 TextSubmitted="OnFieldChanged">
                            <ComboBoxItem Content="Coles"/>
                            <ComboBoxItem Content="Woolworths"/>
                            <ComboBoxItem Content="IGA"/>
                            <ComboBoxItem Content="ALDI"/>
                            <ComboBoxItem Content="Foodworks"/>
                            <ComboBoxItem Content="Drakes"/>
                            <ComboBoxItem Content="Foodland"/>
                            <ComboBoxItem Content="Spudshed"/>
                            <ComboBoxItem Content="Harris Farm Markets"/>
                            <ComboBoxItem Content="Other"/>
                        </ComboBox>
                        <TextBlock x:Name="ChainErrorText" 
                                  Foreground="Red" FontSize="12" 
                                  Visibility="Collapsed"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Location Information -->
            <Border Background="{StaticResource CardBackgroundBrush}" 
                    CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="Location" FontWeight="SemiBold" FontSize="14"/>
                    
                    <!-- Address -->
                    <StackPanel>
                        <TextBlock Text="Street Address" FontWeight="Medium"/>
                        <TextBox x:Name="AddressTextBox" 
                                PlaceholderText="e.g., 123 Main Street"
                                TextWrapping="Wrap"
                                AcceptsReturn="True"
                                Height="60"/>
                    </StackPanel>

                    <!-- Suburb (Required) -->
                    <StackPanel>
                        <TextBlock Text="Suburb *" FontWeight="Medium"/>
                        <TextBox x:Name="SuburbTextBox" 
                                PlaceholderText="e.g., Chatswood, Sydney"
                                TextChanged="OnFieldChanged"/>
                        <TextBlock x:Name="SuburbErrorText" 
                                  Foreground="Red" FontSize="12" 
                                  Visibility="Collapsed"/>
                    </StackPanel>

                    <!-- State and Postcode -->
                    <Grid ColumnDefinitions="*,12,150">
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="State *" FontWeight="Medium"/>
                            <ComboBox x:Name="StateComboBox" 
                                     PlaceholderText="Select state"
                                     SelectionChanged="OnFieldChanged">
                                <ComboBoxItem Content="NSW"/>
                                <ComboBoxItem Content="VIC"/>
                                <ComboBoxItem Content="QLD"/>
                                <ComboBoxItem Content="WA"/>
                                <ComboBoxItem Content="SA"/>
                                <ComboBoxItem Content="TAS"/>
                                <ComboBoxItem Content="NT"/>
                                <ComboBoxItem Content="ACT"/>
                            </ComboBox>
                            <TextBlock x:Name="StateErrorText" 
                                      Foreground="Red" FontSize="12" 
                                      Visibility="Collapsed"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Postcode" FontWeight="Medium"/>
                            <TextBox x:Name="PostcodeTextBox" 
                                    PlaceholderText="e.g., 2067"
                                    TextChanged="OnPostcodeChanged"/>
                            <TextBlock x:Name="PostcodeErrorText" 
                                      Foreground="Red" FontSize="12" 
                                      Visibility="Collapsed"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Contact Information -->
            <Border Background="{StaticResource CardBackgroundBrush}" 
                    CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="Contact Information (Optional)" FontWeight="SemiBold" FontSize="14"/>
                    
                    <!-- Phone -->
                    <StackPanel>
                        <TextBlock Text="Phone Number" FontWeight="Medium"/>
                        <TextBox x:Name="PhoneTextBox" 
                                PlaceholderText="e.g., (02) 9876 5432"
                                TextChanged="OnPhoneChanged"/>
                        <TextBlock x:Name="PhoneErrorText" 
                                  Foreground="Red" FontSize="12" 
                                  Visibility="Collapsed"/>
                    </StackPanel>

                    <!-- Website -->
                    <StackPanel>
                        <TextBlock Text="Website" FontWeight="Medium"/>
                        <TextBox x:Name="WebsiteTextBox" 
                                PlaceholderText="https://www.example.com"
                                TextChanged="OnWebsiteChanged"/>
                        <TextBlock x:Name="WebsiteErrorText" 
                                  Foreground="Red" FontSize="12" 
                                  Visibility="Collapsed"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Store Features -->
            <Border Background="{StaticResource CardBackgroundBrush}" 
                    CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="Store Features (Optional)" FontWeight="SemiBold" FontSize="14"/>
                    
                    <!-- Operating Hours -->
                    <StackPanel>
                        <TextBlock Text="Operating Hours" FontWeight="Medium"/>
                        <TextBox x:Name="OperatingHoursTextBox" 
                                PlaceholderText="e.g., Mon-Fri: 6am-10pm, Sat-Sun: 7am-9pm"/>
                    </StackPanel>

                    <!-- Services -->
                    <StackPanel>
                        <TextBlock Text="Services Available" FontWeight="Medium"/>
                        <StackPanel x:Name="ServicesPanel" Orientation="Horizontal" Spacing="8">
                            <CheckBox Content="24/7" Tag="24_hour"/>
                            <CheckBox Content="Pharmacy" Tag="pharmacy"/>
                            <CheckBox Content="Deli" Tag="deli"/>
                            <CheckBox Content="Bakery" Tag="bakery"/>
                            <CheckBox Content="Butcher" Tag="butcher"/>
                            <CheckBox Content="Seafood" Tag="seafood"/>
                            <CheckBox Content="Self Checkout" Tag="self_checkout"/>
                            <CheckBox Content="Click &amp; Collect" Tag="click_collect"/>
                            <CheckBox Content="Home Delivery" Tag="delivery"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Location Coordinates (Advanced) -->
            <Expander Header="Advanced Location (GPS Coordinates)" IsExpanded="False">
                <Border Background="{StaticResource CardBackgroundBrush}" 
                        CornerRadius="8" Padding="16" Margin="0,8,0,0">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Enter GPS coordinates for precise location mapping" 
                                  Foreground="{StaticResource TextSecondaryBrush}"/>
                        
                        <Grid ColumnDefinitions="*,12,*">
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Latitude" FontWeight="Medium"/>
                                <TextBox x:Name="LatitudeTextBox" 
                                        PlaceholderText="e.g., -33.7969"
                                        TextChanged="OnCoordinateChanged"/>
                                <TextBlock x:Name="LatitudeErrorText" 
                                          Foreground="Red" FontSize="12" 
                                          Visibility="Collapsed"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Longitude" FontWeight="Medium"/>
                                <TextBox x:Name="LongitudeTextBox" 
                                        PlaceholderText="e.g., 151.1316"
                                        TextChanged="OnCoordinateChanged"/>
                                <TextBlock x:Name="LongitudeErrorText" 
                                          Foreground="Red" FontSize="12" 
                                          Visibility="Collapsed"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>
            </Expander>

            <!-- Validation Summary -->
            <Border x:Name="ValidationSummary" 
                   Background="#FFEBEE" 
                   BorderBrush="Red" 
                   BorderThickness="1"
                   CornerRadius="4" 
                   Padding="12"
                   Visibility="Collapsed">
                <StackPanel>
                    <TextBlock Text="Please fix the following errors:" 
                              FontWeight="SemiBold" 
                              Foreground="Red"/>
                    <TextBlock x:Name="ValidationErrors" 
                              Foreground="Red" 
                              TextWrapping="Wrap"
                              Margin="0,4,0,0"/>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>