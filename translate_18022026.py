import re

# Read the source file
with open(r'C:\Users\advgen10\source\repos\AdvGenPriceComparer\data\html\price_super_market_18022026.html', 'r', encoding='utf-8') as f:
    content = f.read()

# Translation mappings
translations = {
    # HTML attributes
    '<html lang="en">': '<html lang="zh-TW">',

    # Title
    'Price Comparison Report | Coles vs Woolworths | 2026-02-17': 'åƒ¹æ ¼æ¯”è¼ƒå ±å‘Š | Coles vs Woolworths | 2026-02-17',

    # Header
    'Weekly Price Comparison': 'æ¯é€±åƒ¹æ ¼æ¯”è¼ƒ',
    '>Last Week<': '>ä¸Šé€±<',
    '>This Week<': '>æœ¬é€±<',
    '>Buy me a Coffee<': '>è«‹æˆ‘å–å’–å•¡<',

    # Hero section
    'ğŸ›’ Smart Price Comparison': 'ğŸ›’ æ™ºèƒ½åƒ¹æ ¼æ¯”è¼ƒ',
    'AI-powered analysis comparing Coles vs Woolworths weekly deals': 'AIæ™ºèƒ½åˆ†æ æ¯”è¼ƒColesèˆ‡Woolworthsæ¯é€±å„ªæƒ ',

    # Week selector - update links to chinese versions
    'price_super_market_11022026.html': 'price_super_market_11022026_chinese.html',

    # Retailer section
    'ğŸ† Head-to-Head Price Battle': 'ğŸ† åƒ¹æ ¼å°æ±º',
    'Woolworths wins with 38 cheaper products': 'Woolworthså‹å‡º å…±38ä»¶å•†å“åƒ¹æ ¼è¼ƒä½',

    # Stats section
    'ğŸ“Š Weekly Analysis': 'ğŸ“Š æ¯é€±åˆ†æ',
    'Products Compared': 'æ¯”è¼ƒå•†å“æ•¸é‡',
    'Total Savings Identified': 'å·²ç™¼ç¾ç¸½ç¯€çœé‡‘é¡',
    'Coles Best Deals': 'Colesæœ€ä½³å„ªæƒ ',
    'Woolworths Best Deals': 'Woolworthsæœ€ä½³å„ªæƒ ',

    # Product section
    '>Product Price Comparisons<': '>å•†å“åƒ¹æ ¼æ¯”è¼ƒ<',

    # Categories
    'General â€¢ Similarity': 'ä¸€èˆ¬ â€¢ ç›¸ä¼¼åº¦',
    'Frozen â€¢ Similarity': 'å†·å‡ â€¢ ç›¸ä¼¼åº¦',
    'Confectionery â€¢ Similarity': 'ç³–æœé›¶é£Ÿ â€¢ ç›¸ä¼¼åº¦',
    'Condiments â€¢ Similarity': 'èª¿å‘³æ–™ â€¢ ç›¸ä¼¼åº¦',
    'Meat & Seafood â€¢ Similarity': 'è‚‰é¡åŠæµ·é®® â€¢ ç›¸ä¼¼åº¦',
    'Dairy â€¢ Similarity': 'ä¹³è£½å“ â€¢ ç›¸ä¼¼åº¦',
    'Bakery â€¢ Similarity': 'çƒ˜ç„™ â€¢ ç›¸ä¼¼åº¦',
    'Drinks â€¢ Similarity': 'é£²æ–™ â€¢ ç›¸ä¼¼åº¦',
    'Pantry â€¢ Similarity': 'é£Ÿå“æ«ƒ â€¢ ç›¸ä¼¼åº¦',
    'Health & Beauty â€¢ Similarity': 'ä¿å¥åŠç¾å®¹ â€¢ ç›¸ä¼¼åº¦',
    'Household â€¢ Similarity': 'å®¶å±…ç”¨å“ â€¢ ç›¸ä¼¼åº¦',
    'Baby â€¢ Similarity': 'å¬°å…’ç”¨å“ â€¢ ç›¸ä¼¼åº¦',
    'Pet â€¢ Similarity': 'å¯µç‰©ç”¨å“ â€¢ ç›¸ä¼¼åº¦',
    'Liquor â€¢ Similarity': 'é…’é¡ â€¢ ç›¸ä¼¼åº¦',

    # Badges
    '>HALF_PRICE<': '>åŠåƒ¹<',
    '>Half Price Specials<': '>åŠåƒ¹ç‰¹æƒ <',
    '>Special<': '>ç‰¹åƒ¹<',

    # Footer
    'AI-Powered Price Comparison | Generated by AdvGen Price Comparer': 'AIæ™ºèƒ½åƒ¹æ ¼æ¯”è¼ƒ | ç”±AdvGen Price Comparerç”Ÿæˆ',
    'Data sourced from official Coles and Woolworths catalogues - Week 1-7 Oct 2025': 'è³‡æ–™ä¾†æºæ–¼Coleså’ŒWoolworthså®˜æ–¹ç›®éŒ„ - 2026å¹´2æœˆ18-24æ—¥',
    '>Home<': '>é¦–é <',
}

# Apply translations
for eng, chi in translations.items():
    content = content.replace(eng, chi)

# Handle "BEST DEAL - Save $X.XX" pattern
content = re.sub(r'BEST DEAL - Save \$', 'æœ€å„ªæƒ  - çœ $', content)

# Write the output file
with open(r'C:\Users\advgen10\source\repos\AdvGenPriceComparer\data\html\price_super_market_18022026_chinese.html', 'w', encoding='utf-8') as f:
    f.write(content)

print("Translation complete! Output saved to price_super_market_18022026_chinese.html")
